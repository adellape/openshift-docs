= Deployments
{product-author}
{product-version}
:data-uri:
:icons:
:experimental:
:toc: macro
:toc-title:
:prewrap!:

toc::[]

== Deployments
See link:../../dev_guide/deployments.html[Deployments].

== Deployment Configurations
See link:../../dev_guide/deployments.html[Deployments].

== Replication Controllers

A replication controller ensures that a specific number of pods set with a
particular label are running at all times. If one of the matching pods or a
Kubernetes host goes down, the replication controller re-instantiates matching
pods up to the defined number across the cluster. Likewise, if there are too
many running pods, it kills the required amount of hosts. Any new pods are
created by the template set in the replication controller object.

The replication controller does not perform auto-scaling; rather, it is
controlled by an external auto-scaler, which changes the `*replicas*` field.
Replication controllers are only appropriate for pods with `*restartPolicy*` set
to *Always*, and a pod with a different restart policy is refused.

The most important elements in the structure of a replication controller object
are the `*replicas*` and `*replicaSelector*` values, as shown in the following
example:

.Replication Controller Object Definition
====

[source,json]
----
{
    "kind": "ReplicationControllerList",
    "creationTimestamp": null,
    "selfLink": "/api/v1beta1/replicationControllers",
    "resourceVersion": 27,
    "apiVersion": "v1beta1",
    "items": [
        {
            "id": "docker-registry-1",
            "uid": "7fa58610-9b31-11e4-9dff-f0def1de880f",
            "creationTimestamp": "2015-01-13T09:36:02-05:00",
            "selfLink": "/api/v1beta1/replicationControllers/docker-registry-1?namespace=default",
            "resourceVersion": 26,
            "namespace": "default",
            "annotations": {
                ...
            },
            "desiredState": {
                "replicas": 1, <1>
                "replicaSelector": {
                    "name": "registrypod" <2>
                },
----
<1> The number of copies of the pod to run.
<2> The label selector of the pod to run.

====

These determine which pods to maintain.

See the
https://github.com/GoogleCloudPlatform/kubernetes/blob/master/docs/replication-controller.md[Kubernetes
documentation] for more on replication controllers.
