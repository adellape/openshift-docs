// Module included in the following assemblies:
//
// * installing/install_config/configuring-apiserver.adoc

[id="apiserver-configuring-user-managed-certs_{context}"]
= Configuring user-managed certificates for the Kubernetes API

External clients access the Kubernetes API at the
`api.<cluster_name>.<base_domain>` host name, as defined by the values specified
in the `install-config.yaml` file during installation.

{product-title} automatically provides and manages the TLS
certificates used to serve secure traffic when using the Kubernetes API.

You can specify your own custom certificates for securing the Kubernetes API
traffic through the `spec.servingCerts` section of the `APIServer` cluster
configuration resource:

.Procedure

. Create a `kubernetes.io/tls` type Secret containing the custom TLS information
in the `openshift-config` namespace:
+
----
$ oc --namespace openshift-config \
    create secret tls <user_managed_cert_secret_name> \
    --certFile </path/to/tls.crt> \
    --keyFile </path/to/tls.key>
----

. As a user with `cluster-admin` permissions, edit the `APIServer/cluster`
configuration resource using the web console or CLI.

** From the web console:
.. Navigate to *Administration* â†’ *Cluster Settings*.
.. Click the *Global Configuration* tab.
.. Click the *APIServer* configuration resource's *Edit YAML* button.

** From the CLI:
+
----
$ oc edit APIServer/cluster
----

. Add a reference to the TLS Secret in the `spec` section and save your changes:
+
----
spec:
  servingCerts:
    namedCertificates:
    - names:
      - api.<cluster_name>.<base_domain>
      servingCertificate:
        name: <user_managed_cert_secret_name>
----
